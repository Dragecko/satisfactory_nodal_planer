#!/bin/bash

echo "ğŸš€ DÃ©marrage universel de Satisfactory Nodal Planner"
echo "==================================================="

# DÃ©tecter l'environnement
if [[ "$OSTYPE" == "msys" ]] || [[ "$OSTYPE" == "cygwin" ]] || [[ "$OSTYPE" == "win32" ]]; then
    echo "ğŸªŸ Environnement Windows dÃ©tectÃ©"
    if command -v powershell &> /dev/null; then
        echo "ğŸ“œ Lancement via PowerShell..."
        powershell -ExecutionPolicy Bypass -File "start.ps1"
    else
        echo "ğŸ“œ Lancement via batch..."
        ./start.bat
    fi
elif [[ "$OSTYPE" == "linux-gnu"* ]]; then
    echo "ğŸ§ Environnement Linux dÃ©tectÃ©"
    if [[ -f /proc/version ]] && grep -qi microsoft /proc/version; then
        echo "ğŸªŸ WSL dÃ©tectÃ© - Lancement via PowerShell..."
        if command -v powershell.exe &> /dev/null; then
            powershell.exe -ExecutionPolicy Bypass -File "start.ps1"
        else
            echo "ğŸ“œ PowerShell non trouvÃ©, lancement via bash..."
            ./start-auto.sh
        fi
    else
        echo "ğŸ§ Linux natif - Lancement via bash..."
        ./start-auto.sh
    fi
elif [[ "$OSTYPE" == "darwin"* ]]; then
    echo "ğŸ Environnement macOS dÃ©tectÃ©"
    ./start-auto.sh
else
    echo "â“ Environnement non reconnu, tentative avec bash..."
    ./start-auto.sh
fi
